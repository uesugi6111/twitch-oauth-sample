<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Twitch Bits Leaderboard</title>
    <link rel="stylesheet" href="styles.css" />
  </head>
  <body>
    <main class="layout">
      <header class="toolbar">
        <div class="title-block">
          <h1 id="heading">Twitch Bits Leaderboard</h1>
          <p id="subtitle" class="subtitle">怪しくないです</p>
        </div>
        <button id="languageToggle" class="ghost-button" type="button">日本語</button>
      </header>

      <section class="card">
        <div class="auth-callout">
          <a
            id="authLink"
            class="primary-button"
            href="https://id.twitch.tv/oauth2/authorize?client_id=b7zndpqll3izhipefm62wqtzdb5tzp&redirect_uri=https://github.uesugi.app/twitch-oauth-sample/&response_type=token&scope=bits:read"
          >
            Connect with Twitch
          </a>
        </div>

        <section id="signedIn" class="card-content" hidden>
          <form id="leaderboardForm" class="form-grid">
            <label class="form-field">
              <span class="label-text" data-i18n="countLabel">Count</span>
              <input id="count" type="number" min="1" max="100" value="100" />
            </label>
            <label class="form-field">
              <span class="label-text" data-i18n="periodLabel">Period</span>
              <select id="period">
                <option value="day" data-i18n-option="day">Day</option>
                <option value="week" data-i18n-option="week">Week</option>
                <option value="month" data-i18n-option="month" selected>Month</option>
                <option value="year" data-i18n-option="year">Year</option>
                <option value="all" data-i18n-option="all">All</option>
              </select>
            </label>
            <label class="form-field">
              <span class="label-text" data-i18n="startedAtLabel">Started At</span>
              <input id="startedAt" type="datetime-local" />
            </label>
            <label class="form-field">
              <span class="label-text" data-i18n="userIdLabel">User ID</span>
              <input id="userId" type="text" />
            </label>
            <div class="form-actions">
              <button id="fetchButton" class="primary-button" type="submit">Fetch Leaderboard</button>
            </div>
            <p id="apiNote" class="api-note">
              For detailed API specifications, see <a href="https://dev.twitch.tv/docs/api/reference#get-bits-leaderboard" target="_blank" rel="noopener noreferrer">Twitch Docs: Get Bits Leaderboard</a>.
            </p>
          </form>

          <div class="status-block">
            <div id="status" class="status-text"></div>
            <div id="dateRange" class="status-meta"></div>
          </div>

          <div class="table-wrapper">
            <table aria-describedby="status">
              <thead>
                <tr>
                  <th data-i18n="tableRank">Rank</th>
                  <th data-i18n="tableUserName">User Name</th>
                  <th data-i18n="tableUserLogin">User Login</th>
                  <th data-i18n="tableUserId">User ID</th>
                  <th data-i18n="tableScore">Score</th>
                </tr>
              </thead>
              <tbody id="leaderboardResults"></tbody>
            </table>
          </div>
        </section>
      </section>

      <p class="footer-note">
        Source code: <a href="https://github.com/uesugi6111/twitch-oauth-sample">github.com/uesugi6111/twitch-oauth-sample</a> · Issues: <a href="https://x.com/honmonouesugi">x.com/honmonouesugi</a>
      </p>
    </main>

    <script defer src="app.js"></script>
  </body>
</html>